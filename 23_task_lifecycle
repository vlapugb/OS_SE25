# Жизненный цикл задач (процессов) в операционных системах

## 1. Понятие задачи (процесса)

**Задача (процесс)** — это программа в состоянии выполнения вместе с её:
- адресным пространством;
- контекстом процессора;
- открытыми файлами;
- системными ресурсами.

Процесс является основной единицей планирования и управления в операционной системе.

---

## 2. Основные состояния процесса

В течение своего существования процесс проходит несколько состояний, которые образуют его жизненный цикл.

### 2.1 Создание (New)

Процесс создаётся, но ещё не допущен к выполнению.

На этом этапе:
- выделяется идентификатор процесса (PID);
- создаётся дескриптор процесса (PCB);
- выделяется память;
- инициализируется контекст.

Причины создания процесса:
- запуск программы пользователем;
- создание дочернего процесса;
- системные службы.

---

### 2.2 Готовность (Ready)

Процесс полностью подготовлен к выполнению и ожидает получения процессорного времени.

Характеристики:
- все ресурсы, кроме процессора, получены;
- процесс находится в очереди готовых;
- планировщик может выбрать его для выполнения.

---

### 2.3 Выполнение (Running)

Процесс непосредственно выполняется на процессоре.

Особенности:
- в каждый момент времени процессор выполняет только один процесс (на одном ядре);
- процесс может быть вытеснен планировщиком;
- происходит выполнение инструкций программы.

---

### 2.4 Ожидание (Waiting / Blocked)

Процесс временно не может продолжать выполнение и ожидает наступления события.

Причины перехода:
- ожидание завершения операции ввода-вывода;
- ожидание освобождения ресурса;
- ожидание сигнала или события.

Процесс не участвует в планировании, пока не завершится ожидаемое событие.

---

### 2.5 Завершение (Terminated)

Процесс завершил выполнение и освобождает ресурсы.

На этом этапе:
- освобождается память;
- закрываются файлы;
- удаляется контекст;
- сохраняется код завершения.

Причины завершения:
- нормальное завершение;
- ошибка выполнения;
- принудительное завершение ОС или пользователя.

---

## 3. Диаграмма жизненного цикла процесса

Типовые переходы между состояниями:

- **New → Ready** — процесс создан и готов к выполнению  
- **Ready → Running** — выбран планировщиком  
- **Running → Waiting** — ожидание события  
- **Waiting → Ready** — событие произошло  
- **Running → Ready** — вытеснение  
- **Running → Terminated** — завершение  

---

## 4. Роль планировщика

**Планировщик процессов** — компонент ОС, определяющий:
- какой процесс будет выполняться;
- когда произойдёт переключение контекста;
- порядок обслуживания процессов.

Типы планировщиков:
- долгосрочный (допуск процессов);
- среднесрочный (приостановка/возобновление);
- краткосрочный (выбор следующего процесса).

---

## 5. Контекст процесса

Контекст процесса включает:
- значения регистров процессора;
- счётчик команд;
- состояние стека;
- информацию о памяти;
- данные планирования.

**Переключение контекста** — сохранение состояния одного процесса и восстановление состояния другого.

---

## 6. Потоки и жизненный цикл

Внутри процесса могут существовать **потоки**.

Особенности:
- потоки разделяют память процесса;
- каждый поток имеет собственный контекст выполнения;
- жизненный цикл потока аналогичен жизненному циклу процесса.

---

## 7. Расширенные состояния процессов

В некоторых ОС используются дополнительные состояния:
- **Suspended Ready** — приостановленный, но готовый;
- **Suspended Waiting** — приостановленный и ожидающий;
- **Zombie** (Unix) — завершён, но не удалён;
- **Orphan** — процесс без родителя.

---

## 8. Итог

Жизненный цикл задачи:
- отражает текущее состояние процесса;
- позволяет ОС эффективно управлять ресурсами;
- является основой многозадачности и планирования.

Понимание жизненного цикла процессов необходимо для анализа производительности и корректной работы операционных систем.

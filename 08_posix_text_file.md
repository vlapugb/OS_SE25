# POSIX ‚Äî –ø–æ–Ω—è—Ç–∏—è –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞

## 1. –ß—Ç–æ —Ç–∞–∫–æ–µ POSIX

**POSIX (Portable Operating System Interface)** ‚Äî —ç—Ç–æ —Å–µ–º–µ–π—Å—Ç–≤–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–æ–≤, –æ–ø—Ä–µ–¥–µ–ª—è—é—â–∏—Ö:
- –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –º–µ–∂–¥—É **–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º** –∏ **–æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π**;
- –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ (API), –æ–±–æ–ª–æ—á–∫–∏ (shell) –∏ —É—Ç–∏–ª–∏—Ç.

–ì–ª–∞–≤–Ω–∞—è —Ü–µ–ª—å POSIX:
- –æ–±–µ—Å–ø–µ—á–∏—Ç—å **–ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å –ø—Ä–æ–≥—Ä–∞–º–º** –º–µ–∂–¥—É —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ Unix‚Äë–ø–æ–¥–æ–±–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏ (Linux, BSD, macOS –∏ –¥—Ä.);
- –∑–∞–¥–∞—Ç—å –µ–¥–∏–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏, —Ñ–∞–π–ª–∞–º–∏, –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∏ —Ç.–ø.

–í–∞–∂–Ω–æ: POSIX ‚Äî —ç—Ç–æ **–Ω–µ —Å–∞–º–∞ –û–°**, –∞ **–Ω–∞–±–æ—Ä —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–π**, –∫–∞–∫ –û–° –¥–æ–ª–∂–Ω–∞ —Å–µ–±—è –≤–µ—Å—Ç–∏ –∏ –∫–∞–∫–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—Ç—å.
## 2.   **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞ POSIX (IEEE 1003 / The Single UNIX Specification)**

# **1. Base Definitions ‚Äî XBD**

**(–ë–∞–∑–æ–≤—ã–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∏ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞)**
–≠—Ç–æ—Ç —Ç–æ–º –∑–∞–¥–∞—ë—Ç —è–∑—ã–∫–æ–≤—É—é –æ—Å–Ω–æ–≤—É POSIX –∏ –æ–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –≤—Å–µ—Ö –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —á–∞—Å—Ç–µ–π.
### **–ß—Ç–æ –≤–∫–ª—é—á–∞–µ—Ç:**
	
- **–¢–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—é**, –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–Ω—è—Ç–∏–π: –ø—Ä–æ—Ü–µ—Å—Å, —Ñ–∞–π–ª, —Å—Å—ã–ª–∫–∞, —Å–æ–∫–µ—Ç, –ø—É—Ç—å, –ø–æ—Ç–æ–∫, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å, —Å–∏–≥–Ω–∞–ª –∏ —Ç.–ø.
- **–ü—Ä–∞–≤–∏–ª–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∫ —Ç—Ä–∞–∫—Ç–æ–≤–∞—Ç—å escape-–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –∫–∞–≤—ã—á–∫–∏, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã).
- **–û–±—â–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –¥–∞–Ω–Ω—ã—Ö** –∏ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è:
    - —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ **—Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö** (size_t, pid_t, mode_t, off_t‚Ä¶)
    - **—Å—Ç—Ä—É–∫—Ç—É—Ä—ã errno –∏ –æ—à–∏–±–æ–∫**
    - –æ–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –¥–ª—è –º–∞–∫—Ä–æ—Å–æ–≤, –∫–æ–¥–æ–≤ –≤–æ–∑–≤—Ä–∞—Ç–∞
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã POSIX**:
    —á—Ç–æ —Ç–∞–∫–æ–µ –∫–∞—Ç–∞–ª–æ–≥, —á—Ç–æ —Ç–∞–∫–æ–µ –ø—É—Ç—å, –ø—Ä–∞–≤–∏–ª–∞ –æ–±—Ö–æ–¥–∞, –ø–æ–≤–µ–¥–µ–Ω–∏–µ ‚Äú.‚Äù –∏ ‚Äú..‚Äù, —Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è.
- **–û–ø–∏—Å–∞–Ω–∏–µ –ª–æ–∫–∞–ª–µ–π (LC_*)**: –ø—Ä–∞–≤–∏–ª–∞ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å—Ç—Ä–æ–∫, —Ñ–æ—Ä–º–∞—Ç—ã –¥–∞—Ç, —á–∏—Å–µ–ª, –∫–ª–∞—Å—Å—ã —Å–∏–º–≤–æ–ª–æ–≤.
- **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è** (PATH, IFS, HOME, LANG –∏ –¥—Ä.)
- **–í—Å–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–µ —Ñ–∞–π–ª—ã** (<unistd.h>, <stdio.h>, <sys/stat.h> –∏ –¥–µ—Å—è—Ç–∫–∏ –¥—Ä—É–≥–∏—Ö).
### **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–º–∞ XBD**
–û–Ω ‚Äî **—Å–ª–æ–≤–∞—Ä—å POSIX**.
–í—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —á–∞—Å—Ç–∏ –æ—Ç—Å—ã–ª–∞—é—Ç –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è–º –∏–∑ XBD, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ—Å—Ç–µ–π.
# **2. System Interfaces ‚Äî XSH**
**(–°–∏—Å—Ç–µ–º–Ω—ã–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã ‚Äî POSIX C API / —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ libc)**
–≠—Ç–æ **—Å–∞–º–∞—è –±–æ–ª—å—à–∞—è** —á–∞—Å—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞.
–ò–º–µ–Ω–Ω–æ –∑–¥–µ—Å—å –æ–ø–∏—Å–∞–Ω—ã **–≤—Å–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω–Ω–æ–π C-–±–∏–±–ª–∏–æ—Ç–µ–∫–∏**.
### **–ß—Ç–æ –≤—Ö–æ–¥–∏—Ç:**
### **–§–∞–π–ª–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏**
open, read, write, close, fsync, link, unlink, rename, stat, mkdir, opendir
–ü–æ–¥—Ä–æ–±–Ω–µ–µ –ø—Ä–æ syscalls –¥–ª—è –≥–∏–∫–æ–≤: 
## **open(path, flags, mode)**
–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç _file descriptor_ (int).
**–í–Ω—É—Ç—Ä–∏ –û–°:**
- –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ —á–µ—Ä–µ–∑ VFS;
- –ø–æ–∏—Å–∫ inode;
- —Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞;
- —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–º–µ—â–µ–Ω–∏—è (file offset).
**–í–∞–∂–Ω–æ:**
- O_CREAT, O_TRUNC, O_APPEND, O_NONBLOCK;
- open ‚Äî –¥–æ—Ä–æ–≥–æ–π syscall.
## **read(fd, buf, count)**
–ß–∏—Ç–∞–µ—Ç –∏–∑ —Ñ–∞–π–ª–∞ –≤ –±—É—Ñ–µ—Ä.
**–í–Ω—É—Ç—Ä–∏ –û–°:**
- –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞;
- —á—Ç–µ–Ω–∏–µ —á–µ—Ä–µ–∑ page cache (**–∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª–æ—á–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤!**);
- –≤–æ–∑–º–æ–∂–µ–Ω –±–ª–æ–∫–∏—Ä—É—é—â–∏–π –≤—ã–∑–æ–≤.
## **write(fd, buf, count)**
–ü–∏—à–µ—Ç –¥–∞–Ω–Ω—ã–µ.
**–í–Ω—É—Ç—Ä–∏ –û–°:**
- –∫–æ–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ user-space ‚Üí kernel-space;
- –∫–ª–∞–¥—ë—Ç –≤ page cache;
- _–Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç_ –∑–∞–ø–∏—Å—å –Ω–∞ –¥–∏—Å–∫.
## **fsync(fd)** 
—ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤, –∫–æ—Ç–æ—Ä—ã–π **–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –≤—Å–µ –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–∞ –Ω–∞ —Ñ–∏–∑–∏—á–µ—Å–∫–∏–π –¥–∏—Å–∫**.
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –ª–µ–∂–∞—Ç –≤ page cache (–±—É—Ñ–µ—Ä–∞—Ö —è–¥—Ä–∞), **–∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –Ω–∞ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è**.
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑–º–µ—Ä, timestamps) —Ç–æ–∂–µ —Å–±—Ä–∞—Å—ã–≤–∞—é—Ç—Å—è.
- –í—ã–∑–æ–≤ **–±–ª–æ–∫–∏—Ä—É–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å**, –ø–æ–∫–∞ –¥–∏—Å–∫ –Ω–µ –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç, —á—Ç–æ –∑–∞–ø–∏—Å—å –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (–∏–ª–∏ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞).
## **link(old, new)**
–°–æ–∑–¥–∞—ë—Ç **–∂—ë—Å—Ç–∫—É—é —Å—Å—ã–ª–∫—É** –Ω–∞ inode.
## **unlink(path)**
–£–¥–∞–ª—è–µ—Ç –∑–∞–ø–∏—Å—å –∫–∞—Ç–∞–ª–æ–≥–∞.
–§–∞–π–ª —É–¥–∞–ª–∏—Ç—Å—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏, –∫–æ–≥–¥–∞ **inode refcount == 0 –∏ —Ñ–∞–π–ª –Ω–µ –∑–∞–Ω—è—Ç –∫–∞–∫–∏–º-—Ç–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–º, (—Ç. –µ. –ø–æ–∫–∞ –∂–∏–≤–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å, –∂–∏–≤—É—Ç –∏ —Ñ–∞–π–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ–Ω –ø–æ–æ—Ç–∫—Ä—ã–≤–∞–ª)**.
## **rename(old, new)**
–ê—Ç–æ–º–∞—Ä–Ω–æ–µ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–æ–≤–æ–≥–æ —Ç–æ–º–∞.
## **stat / lstat(path)**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ inode: —Ä–∞–∑–º–µ—Ä, –ø—Ä–∞–≤–∞, —Ç–∏–ø, nlink, –≤—Ä–µ–º—è.
## **mkdir(path, mode)**
–°–æ–∑–¥–∞—ë—Ç –∫–∞—Ç–∞–ª–æ–≥ ‚Üí –Ω–æ–≤—ã–π inode + –∑–∞–ø–∏—Å–∏ ‚Äú.‚Äù –∏ ‚Äú..‚Äù.
## **opendir / readdir / closedir**
–†–∞–±–æ—Ç–∞ —Å –∫–∞—Ç–∞–ª–æ–≥–∞–º–∏ —á–µ—Ä–µ–∑ DIR.
### –ü—Ä–æ—Ü–µ—Å—Å—ã
fork, execve, wait, _exit, getpid, getppid, setuid, setsid.

–û–ø—è—Ç—å –∂–µ –¥–ª—è –≥–∏–∫–æ–≤, –Ω–æ –ø–æ–ª–µ–∑–Ω–æ –≤—Å–µ–º: 
## **fork()**
–°–æ–∑–¥–∞—ë—Ç –Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å.
**–û–°:**
- –∫–æ–ø–∏—Ä—É–µ—Ç (–ª–µ–Ω–∏–≤–æ) page tables ‚Äî **copy-on-write**;
- –∫–æ–ø–∏—Ä—É–µ—Ç –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã;
- –¥–æ—á–µ—Ä–Ω–∏–π –ø–æ–ª—É—á–∞–µ—Ç return 0, —Ä–æ–¥–∏—Ç–µ–ª—å ‚Äî pid.
## **execve(path, argv, envp)**
–ó–∞–º–µ–Ω—è–µ—Ç –æ–±—Ä–∞–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞ –Ω–æ–≤—ã–º.
**–û–°:**
- –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç —Å—Ç–∞—Ä—ã–π address space;
- –∑–∞–≥—Ä—É–∂–∞–µ—Ç ELF;
- –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç stack (argv/env);
- –Ω–∞—á–∏–Ω–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Å entry point.
## **wait() / waitpid()**
–ñ–¥—ë—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ä–µ–±—ë–Ω–∫–∞ ‚Üí –ø–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å.
## **_exit(status)**
–í—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ—Ü–µ—Å—Å–∞ (–±–µ–∑ flush stdio).
## **getpid(), getppid()**
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç PID –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ —Ä–æ–¥–∏—Ç–µ–ª—è.
## **setuid(), setsid()**
–ú–µ–Ω—è—é—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, —Å–æ–∑–¥–∞—é—Ç –Ω–æ–≤—É—é —Å–µ—Å—Å–∏—é.
### **IPC –∏ —Å–∏–≥–Ω–∞–ª—ã**
signal, sigaction, kill, raise,
–∫–∞–Ω–∞–ª—ã (pipe), –æ—á–µ—Ä–µ–¥–∏ —Å–æ–æ–±—â–µ–Ω–∏–π, —Å–µ–º–∞—Ñ–æ—Ä—ã, shared memory.

## **signal(signo, handler)**
–£—Å—Ç–∞—Ä–µ–≤—à–∏–π —Å–ø–æ—Å–æ–± –ø–æ—Å—Ç–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫.
## **sigaction(signo, struct sigaction)**
–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π ‚Äî –Ω–∞–¥—ë–∂–Ω–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∏–≥–Ω–∞–ª–æ–≤.
## **kill(pid, sig)**
–ü–æ—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª _–ø—Ä–æ—Ü–µ—Å—Å—É –∏–ª–∏ –≥—Ä—É–ø–ø–µ_.
–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ç–∞–±–ª–∏—Ü—É –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ —è–¥—Ä–∞.
## **raise(sig)**
–ü–æ—Å—ã–ª–∞–µ—Ç —Å–∏–≥–Ω–∞–ª _—Å–∞–º–æ–º—É —Å–µ–±–µ_.
## **pipe(int fd[2])**
‚Äî —ç—Ç–æ —Å–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤ , –∫–æ—Ç–æ—Ä—ã–π —Å–æ–∑–¥–∞—ë—Ç **–æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –∫–∞–Ω–∞–ª** –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏.  
–ö–∞–Ω–∞–ª —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ –±—É—Ñ–µ—Ä –≤ —è–¥—Ä–µ –∏ –¥–≤–∞ —Ñ–∞–π–ª–æ–≤—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞:
`[0] ‚Äî –∫–æ–Ω–µ—Ü –¥–ª—è —á—Ç–µ–Ω–∏—è (read end) [1] ‚Äî –∫–æ–Ω–µ—Ü –¥–ª—è –∑–∞–ø–∏—Å–∏ (write end)`
#  **–°–∏–≥–Ω–∞—Ç—É—Ä–∞**
–í C:
`int pipe(int pipefd[2]);`
–ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞:
- `pipefd[0]` ‚Äî –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –¥–ª—è —á—Ç–µ–Ω–∏—è
- `pipefd[1]` ‚Äî –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä –¥–ª—è –∑–∞–ø–∏—Å–∏
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `0` –ø—Ä–∏ —É—Å–ø–µ—Ö–µ, `-1` –ø—Ä–∏ –æ—à–∏–±–∫–µ.
#  **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–Ω—É—Ç—Ä–∏**
`pipe()` —Å–æ–∑–¥–∞—ë—Ç –≤ —è–¥—Ä–µ –æ–±—ä–µ–∫—Ç —Ç–∏–ø–∞ **pipe_inode_info**:
- —ç—Ç–æ –∫–æ–ª—å—Ü–µ–≤–æ–π –±—É—Ñ–µ—Ä (–æ–±—ã—á–Ω–æ 64 KB –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é),
- —Å —É–∫–∞–∑–∞—Ç–µ–ª—è–º–∏ –Ω–∞ –Ω–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü,
- —Å–æ —Å–ø–∏—Å–∫–æ–º –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –æ–∂–∏–¥–∞—é—â–∏—Ö —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å.
–û–±–∞ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞ —Å—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ _–æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ_ –±—É—Ñ–µ—Ä.
–ü–æ—Ç–æ–º –¥–∞–ª—å—à–µ –≤—Å—ë —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ `read()` –∏ `write()`.
###  –ü–æ—Ç–æ–∫–∏
pthread_create, pthread_join, pthread_mutex_lock, pthread_cond_wait –∏ –¥—Ä.
## **pthread_create()**
–°–æ–∑–¥–∞—ë—Ç –ø–æ—Ç–æ–∫ ‚Üí –≤—ã–∑—ã–≤–∞–µ—Ç clone()/rfork() –≤–Ω—É—Ç—Ä–∏ —è–¥—Ä–∞.
## **pthread_join()**
–û–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ—Ç–æ–∫–∞.
## **pthread_mutex_lock / unlock**
–ú—å—é—Ç–µ–∫—Å—ã ‚Üí —Ä–µ–∞–ª–∏–∑—É—é—Ç—Å—è —á–µ—Ä–µ–∑ futex(). (**futex ‚Äî —ç—Ç–æ –ø—Ä–∏–º–∏—Ç–∏–≤, –ø–æ–∑–≤–æ–ª—è—é—â–∏–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º—å—é—Ç–µ–∫—Å—ã –≤ user space –∏ —É—Ö–æ–¥–∏—Ç—å –≤ —è–¥—Ä–æ —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–Ω–æ.**)
–†–∞–Ω—å—à–µ (–¥–æ 2003) –º—å—é—Ç–µ–∫—Å—ã –≤ Linux —Ä–∞–±–æ—Ç–∞–ª–∏ —á–µ—Ä–µ–∑ –≤—Å–µ–≥–¥–∞-—Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã:  
`lock ‚Üí —è–¥—Ä–æ ‚Üí switch ‚Üí block ‚Üí wake ‚Üí —è–¥—Ä–æ ‚Üí –æ–±—Ä–∞—Ç–Ω–æ`. –≠—Ç–æ –¥–æ—Ä–æ–≥–æ.
Futex—ã –ø–æ–∑–≤–æ–ª—è—é—Ç:
- –Ω–µ –≤—ã–∑—ã–≤–∞—Ç—å —è–¥—Ä–æ, –µ—Å–ª–∏ –∑–∞–º–æ–∫ —Å–≤–æ–±–æ–¥–µ–Ω;
- –Ω–µ –¥–µ–ª–∞—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤, –µ—Å–ª–∏ –Ω–µ—Ç –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏;
- —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω—è—Ö —Å–∫–æ—Ä–æ—Å—Ç–∏ atomic operations.
## **pthread_cond_wait / signal**
–£—Å–ª–æ–≤–∏—è ‚Üí sleep/wakeup + mutex.
### **–°–µ—Ç—å**
sock‚Äãet, bind, listen, accept, send, recv, getaddrinfo.
## **socket(domain, type, protocol)**
–°–æ–∑–¥–∞—ë—Ç —Å–µ—Ç–µ–≤–æ–π —Å–æ–∫–µ—Ç ‚Üí fd.
## **bind(fd, addr)**
–ü—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Å–æ–∫–µ—Ç –∫ –∞–¥—Ä–µ—Å—É.
## **listen(fd, backlog)**
–ü–µ—Ä–µ–≤–æ–¥–∏—Ç —Å–æ–∫–µ—Ç –≤ –ø–∞—Å—Å–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º (—Å–µ—Ä–≤–µ—Ä).
## **accept(fd)**
–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –Ω–æ–≤–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚Üí —Å–æ–∑–¥–∞—ë—Ç _–Ω–æ–≤—ã–π fd_.
## **send / recv**
–û—Ç–ø—Ä–∞–≤–∫–∞/–ø—Ä–∏—ë–º –¥–∞–Ω–Ω—ã—Ö.
## **getaddrinfo(host, service, hints)**
DNS + –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ sockaddr —Å—Ç—Ä—É–∫—Ç—É—Ä.

–ì–ª–∞–≤–Ω—ã–π —É–¥–æ–±–Ω—ã–π –≤—ã–∑–æ–≤ –≤—ã—Å–æ–∫–æ–≥–æ —É—Ä–æ–≤–Ω—è.
### **–¢–∞–π–º–µ—Ä—ã, —á–∞—Å—ã, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∏**
clock_gettime, nanosleep, timer_create, sched_yield.
## **clock_gettime(clockid, timespec)**
–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ—á–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ (–º–æ–Ω–æ—Ç–æ–Ω–Ω–æ–≥–æ/—Ä–µ–∞–ª—å–Ω–æ–≥–æ).
## **nanosleep(timespec)**
–°–ø–∏—Ç –∑–∞–¥–∞–Ω–Ω–æ–µ –≤—Ä–µ–º—è ‚Üí –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ —Å–Ω–∏–º–∞–µ—Ç –ø–æ—Ç–æ–∫ —Å CPU.
## **timer_create / timer_settime**
POSIX-—Ç–∞–π–º–µ—Ä—ã ‚Üí –ø—Ä–∏ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–∏ –º–æ–≥—É—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–∏–≥–Ω–∞–ª.
## **sched_yield()**
–û—Ç–¥–∞—Ç—å –∫–≤–∞–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ ‚Üí –¥–æ–±—Ä–æ–≤–æ–ª—å–Ω—ã–π –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å.
### **–†–∞–∑–Ω–æ–µ**
mmap, mlock, ftruncate, dup, fcntl, setrlimit.

# **3. Shell and Utilities ‚Äî XCU**

**(POSIX Shell –∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã)**
–û–ø–∏—Å—ã–≤–∞–µ—Ç **–ø–æ–≤–µ–¥–µ–Ω–∏–µ POSIX-—Å–æ–≤–º–µ—Å—Ç–∏–º–æ–π –æ–±–æ–ª–æ—á–∫–∏ (sh)** –∏ **—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏**.
### **Shell**
- –ø—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑–±–æ—Ä–∞ –∫–æ–º–∞–Ω–¥ (parsing),
- –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ (substitution): –∫–æ–º–∞–Ω–¥–Ω–∞—è, –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è,
- —Ä–µ–¥–∏—Ä–µ–∫—Ç—ã, –ø–∞–π–ø—ã,
- job control (fg, bg),
- —Ñ—É–Ω–∫—Ü–∏–∏ shell, builtin-–∫–æ–º–∞–Ω–¥—ã,
- –ø—Ä–∞–≤–∏–ª–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∫–æ–º–∞–Ω–¥ –∏ —Å–∫—Ä–∏–ø—Ç–æ–≤.
### **–£—Ç–∏–ª–∏—Ç—ã**
POSIX –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ ~150 —É—Ç–∏–ª–∏—Ç:
- ls, cp, mv, rm, chmod, grep, sed, awk, find, xargs
- printf, test, cut, sort, uniq, diff, tar, make
- vi, ed, tr, dd, head, tail, wc
–î–ª—è –∫–∞–∂–¥–æ–π —É—Ç–∏–ª–∏—Ç—ã —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∑–∞–¥–∞—ë—Ç:
- —Å–∏–Ω—Ç–∞–∫—Å–∏—Å,
- –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö,
- –∫–æ–¥—ã –≤–æ–∑–≤—Ä–∞—Ç–∞,
- —Ñ–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞,
- –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ü–∏–∏.
### **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–º–∞ XCU**
–≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç **–ø–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å shell-—Å–∫—Ä–∏–ø—Ç–æ–≤** –º–µ–∂–¥—É Unix-like —Å–∏—Å—Ç–µ–º–∞–º–∏.
### **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ç–æ–º–∞ XSH**
–≠—Ç–æ **–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π API**, –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–π POSIX.
–ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–æ–ª—å–∫–æ XSH-—Ñ—É–Ω–∫—Ü–∏–∏ ‚Üí –æ–Ω–∞ –ø–µ—Ä–µ–Ω–æ—Å–∏–º–∞ –º–µ–∂–¥—É Unix-like —Å–∏—Å—Ç–µ–º–∞–º–∏.
# **4. Rationale ‚Äî XRAT**

**(–ê—Ä–≥—É–º–µ–Ω—Ç–∞—Ü–∏—è, –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏—è –∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)**
–≠—Ç–æ—Ç —Ç–æ–º –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–π —á–∞—Å—Ç—å—é —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏.
–û–Ω –æ–±—ä—è—Å–Ω—è–µ—Ç **–ø–æ—á–µ–º—É** —Ç–∞–∫–∏–µ —Ä–µ—à–µ–Ω–∏—è –±—ã–ª–∏ –ø—Ä–∏–Ω—è—Ç—ã.
### **–ß—Ç–æ –≤–Ω—É—Ç—Ä–∏:**
- –ò—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏—á–∏–Ω—ã (AT&T Unix, BSD, System V).
- –ü–æ—á–µ–º—É —É–¥–∞–ª–∏–ª–∏/–æ—Å—Ç–∞–≤–∏–ª–∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏.
- –ü–æ–¥–≤–æ–¥–Ω—ã–µ –∫–∞–º–Ω–∏ –∏ –Ω–µ–æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã.
- –ü–æ—è—Å–Ω–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º —É—Ç–∏–ª–∏—Ç –∏ shell.
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ —Å–ø–æ—Ä–Ω—ã–º –∞—Å–ø–µ–∫—Ç–∞–º API (–Ω–∞–ø—Ä–∏–º–µ—Ä, –≤–æ–∫—Ä—É–≥ signal, fork, printf –∏ –¥—Ä.)
### **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ XRAT**
–≠—Ç–æ **–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É**, –∫–æ—Ç–æ—Ä—ã–µ:
- –Ω–µ —è–≤–ª—è—é—Ç—Å—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏,
- –Ω–µ –¥–∞—é—Ç —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π,
- —Å–ª—É–∂–∞—Ç –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –û–°, libc –∏ —ç–∫—Å–ø–µ—Ä—Ç–æ–≤.
## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–µ—Ä—Å–∏–∏ POSIX
- **POSIX.1-1988** - –æ–ø–∏—Å—ã–≤–∞–ª –æ—Å–Ω–æ–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã, –±–∏–±–ª–∏–æ—Ç–µ—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏, –ø—Ä–∏–º–∏—Ç–∏–≤—ã —Ä–∞–±–æ—Ç—ã —Å –ø–æ—Ç–æ–∫–∞–º–∏ –≤–≤–æ–¥–∞/–≤—ã–≤–æ–¥–∞ + –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä —É—Ç–∏–ª–∏—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
- **POSIX.2-1992** - –æ–ø–∏—Å—ã–≤–∞–ª —è–∑—ã–∫ –∫–æ–º–∞–Ω–¥ (shell), –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —É—Ç–∏–ª–∏—Ç –ø–æ —Ç–∏–ø—É `grep`, `find`, `awk`
- **POSIX.1-2001 (Single UNIX Specification Version 3)** - –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–ª –∏ –º–æ–¥–µ—Ä–Ω–∏–∑–∏—Ä–æ–≤–∞–ª –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã, –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–ª –≤—Å–µ –≤ –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç.
    - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ POSIX.1, POSIX.2, –∏ –¥—Ä—É–≥–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π.
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤.
    - –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ UNIX-–ø–æ–¥–æ–±–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏.
- **POSIX.1-2008 (POSIX.1-2008 –∏–ª–∏ Single UNIX Specification Version 4)** - –ø–æ—Å–ª–µ–¥–Ω—è—è* –æ—Å–Ω–æ–≤–Ω–∞—è ****–≤–µ—Ä—Å–∏—è POSIX.
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç–∏, –≤–∫–ª—é—á–∞—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è API pthreads.
    - –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ –∏ —É—Ç–∏–ª–∏—Ç.
    - –î–æ–±–∞–≤–ª–µ–Ω—ã —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∞–∫–∏–µ –∫–∞–∫¬†`fdatasync`.
    - –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ —Ä–∞–±–æ—Ç—É —Å –±–æ–ª—å—à–∏–º–∏ –æ–±—ä–µ–º–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –º–Ω–æ–≥–æ–∑–∞–¥–∞—á–Ω–æ—Å—Ç—å.

> ü§ì‚òùÔ∏è¬†–í–æ–æ–±—â–µ-—Ç–æ POSIX.1-2008 –Ω–µ –ø–æ—Å–ª–µ–¥–Ω—è—è –æ—Å–Ω–æ–≤–Ω–∞—è –≤–µ—Ä—Å–∏—è. –°—Ç–∞–≤–ª—é Füò±üòÇü§™.
> > –î–∞, —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –≤—Å–µ –≤–µ—Ä–Ω–æ, –Ω–æ –µ—Å—Ç—å –æ–¥–∏–Ω –º–æ–º–µ–Ω—Ç–∏–∫ –∏–∑ [man standards](https://man7.org/linux/man-pages/man7/standards.7.html):
> ```
> POSIX.1-2017
>               This revision of POSIX is technically identical to
>               POSIX.1-2008 with Technical Corrigenda 1 and 2 applied.
> ```
> **Technical Corrigenda** ‚Äî —ç—Ç–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç—É, –∫–æ—Ç–æ—Ä—ã–µ –≤—ã–ø—É—Å–∫–∞—é—Ç—Å—è –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫, —É—Ç–æ—á–Ω–µ–Ω–∏—è —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –∏–ª–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è –¥–≤—É—Å–º—ã—Å–ª–µ–Ω–Ω–æ—Å—Ç–µ–π –≤ —Ç–µ–∫—Å—Ç–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞. –û–Ω–∏ –Ω–µ –≤–≤–æ–¥—è—Ç –Ω–æ–≤—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏, –∞ —Å–ª—É–∂–∞—Ç –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏–∏ –∏ —Ç–æ—á–Ω–æ—Å—Ç–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞.

<aside> ‚ùó

–° 2024 –¥—É–º–∞—é –±—É–¥–µ—Ç –ø–æ—Ö–æ–∂–∞—è —Å–∏—Ç—É–∞—Ü–∏—è. –ì–ª–∞–≤–Ω–æ–µ, —á—Ç–æ –æ–Ω –≤—ã—à–µ–ª. –†–∞—Å—Å–∫–∞–∂–∏—Ç–µ –ø—Ä–æ 2008, 2017 –∏ –ø–æ—Ç–æ–º —É–ø–æ–º—è–Ω–∏—Ç–µ –ø—Ä–æ 2024)

</aside>
- **POSIX.1-2024** - (–≤ man –Ω–µ—Ç, –Ω–æ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ —É–∂–µ –≤—ã–ø—É—â–µ–Ω)
    –ü–æ–∫–∞ –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ, –Ω–∞—Å–∫–æ–ª—å–∫–æ –µ–≥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–∏–ª—å–Ω—ã –∏ —è–≤–ª—è–µ—Ç—Å—è –ª–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ–º —Å–∏—Ç—É–∞—Ü–∏–∏ —Å **TC** –∫–∞–∫ –≤ **POSIX.1-2017**
## 3. –§–∞–π–ª –≤ POSIX: –æ–±–æ–±—â—ë–Ω–Ω–æ–µ –ø–æ–Ω—è—Ç–∏–µ

–í POSIX –ø–æ—á—Ç–∏ –≤—Å—ë —Ç—Ä–∞–∫—Ç—É–µ—Ç—Å—è –∫–∞–∫ **—Ñ–∞–π–ª**:
- –æ–±—ã—á–Ω—ã–µ —Ñ–∞–π–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, `text.txt`);
- –∫–∞—Ç–∞–ª–æ–≥–∏;
- —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ (`/dev/sda`, `/dev/tty`);
- –∫–∞–Ω–∞–ª—ã (pipe), —Å–æ–∫–µ—Ç—ã –∏ —Ç.–ø.
**–û–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª** ‚Äî —ç—Ç–æ —Ñ–∞–π–ª, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ö—Ä–∞–Ω—è—Ç—Å—è –±–∞–π—Ç—ã –¥–∞–Ω–Ω—ã—Ö, –æ–±—ã—á–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã–µ –∫–∞–∫ —Å–∏–º–≤–æ–ª—ã —Ç–µ–∫—Å—Ç–∞ (UTF‚Äë8, ASCII –∏ –¥—Ä.).
### –ì–ª–∞–≤–Ω–æ–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ–Ω—è—Ç–∏–π

–í POSIX –≤–∞–∂–Ω–æ —Ä–∞–∑–ª–∏—á–∞—Ç—å:
1. **–ò–º—è —Ñ–∞–π–ª–∞ (–ø—É—Ç—å)** ‚Äî —Å—Ç—Ä–æ–∫–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:  
   - `text.txt`  
   - `./docs/text.txt`  
   - `/home/user/text.txt`
2. **–°–∞–º –æ–±—ä–µ–∫—Ç —Ñ–∞–π–ª–∞** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ (inode), —Å–æ–¥–µ—Ä–∂–∞—â–∞—è:
   - —É–∫–∞–∑–∞—Ç–µ–ª–∏ –Ω–∞ –±–ª–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∏—Å–∫–µ;
   - –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (–≤–ª–∞–¥–µ–ª–µ—Ü, –ø—Ä–∞–≤–∞, –≤—Ä–µ–º—è —Å–æ–∑–¥–∞–Ω–∏—è, —Ä–∞–∑–º–µ—Ä –∏ —Ç.–¥.).

**–í—ã–≤–æ–¥:** –∏–º—è ‚Äî —ç—Ç–æ —Ç–æ–ª—å–∫–æ **—Å—Å—ã–ª–∫–∞** –Ω–∞ —Ñ–∞–π–ª (–∫–∞—Ç–∞–ª–æ–∂–Ω–∞—è –∑–∞–ø–∏—Å—å), –∞ —Ä–µ–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª ‚Äî —ç—Ç–æ **–æ–±—ä–µ–∫—Ç –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ**.
# –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª: 

**TLDR:** –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª - —Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å (–≤–æ–∑–º–æ–∂–Ω–æ –ø—É—Å—Ç—É—é) —Å—Ç—Ä–æ–∫.

> _–§–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–∏–º–≤–æ–ª—ã, –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤ –ø—É—Å—Ç—ã–µ –∏–ª–∏ –Ω–µ—Ç —Å—Ç—Ä–æ–∫–∏. –°—Ç—Ä–æ–∫–∏ –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –∑–Ω–∞–∫–æ–≤ NULL –∏ –Ω–∏ –æ–¥–Ω–∞ –∏–∑ –Ω–∏—Ö –Ω–µ –º–æ–∂–µ—Ç –ø—Ä–µ–≤—ã—à–∞—Ç—å {LINE_MAX} –±–∞–π—Ç –≤ –¥–ª–∏–Ω—É, –≤–∫–ª—é—á–∞—è —Å–∏–º–≤–æ–ª . –•–æ—Ç—è POSIX.1-2017 –Ω–µ –ø—Ä–æ–≤–æ–¥–∏—Ç —Ä–∞–∑–ª–∏—á–∏—è –º–µ–∂–¥—É —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ –∏ –±–∏–Ω–∞—Ä–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏ (—Å–º —Å—Ç–∞–Ω–¥–∞—Ä—Ç ISO C), –º–Ω–æ–≥–∏–µ —É—Ç–∏–ª–∏—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π –∏–ª–∏ –∑–Ω–∞—á–∏–º—ã–π –≤—ã–≤–æ–¥ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏. –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç —Ç–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –≤—Å–µ–≥–¥–∞ —É–∫–∞–∑—ã–≤–∞—é—Ç "—Ç–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã" –≤ —Å–≤–æ–∏—Ö —Ä–∞–∑–¥–µ–ª–∞—Ö STDIN –∏–ª–∏ INPUT FILES._

**–°—Ç—Ä–æ–∫–∞** ‚Äì –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–∏–º–≤–æ–ª–æ–≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –∫–æ–¥–∏—Ä–æ–≤–∫–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–π –¥–ª–∏–Ω, –ø—Ä–∏ —ç—Ç–æ–º —Å—Ä–µ–¥–∏ —ç—Ç–æ–π —Å—Ç—Ä–æ–∫–∏ –Ω–µ—Ç —Å–∏–º–≤–æ–ª–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ —Å—Ç—Ä–æ–∫–∏, –∫—Ä–æ–º–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ. (–¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –ø—Ä–∏ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–º –≤—ã–≤–æ–¥–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –Ω–µ —Å–∫–ª–µ–∏–≤–∞–ª–æ—Å—å)

**–° –ø–∞—Ä—ã:**
- –î–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —á–µ–ª–æ–≤–µ–∫-—á–∏—Ç–∞–µ–º—ã–º–∏
- –ù–µ –¥–≤–æ–∏—á–Ω—ã–π –∫–æ–¥ CPU
- –ü–æ—Ä—Ç–∏—Ä—É–µ–º –º–µ–∂–¥—É –û–°
- –°–æ–¥–µ—Ä–∂–∏—Ç –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ —Ç–µ–∫—Å—Ç + —É–ø—Ä–∞–≤–ª—è—é—â–∏–µ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

## 3. –ü—É—Ç—å (path) –∏ –∫–∞—Ç–∞–ª–æ–≥–∏

### 3.1. –¢–∏–ø—ã –ø—É—Ç–µ–π

- **–ê–±—Å–æ–ª—é—Ç–Ω—ã–π –ø—É—Ç—å** –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –∫–æ—Ä–Ω—è `/`  
  –ü—Ä–∏–º–µ—Ä: `/home/user/documents/text.txt`
- **–û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–π –ø—É—Ç—å** –∑–∞–¥–∞—ë—Ç—Å—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ —Ç–µ–∫—É—â–µ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞  
  –ü—Ä–∏–º–µ—Ä: `./text.txt`, `../docs/text.txt`

POSIX –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç:
- —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥ `.` ‚Äî —Ç–µ–∫—É—â–∏–π;
- `..` ‚Äî —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π.

### 3.2. –ö–∞—Ç–∞–ª–æ–≥ –∫–∞–∫ —Ñ–∞–π–ª

–ö–∞—Ç–∞–ª–æ–≥ –≤ POSIX ‚Äî —ç—Ç–æ **–æ—Å–æ–±—ã–π —Ç–∏–ø —Ñ–∞–π–ª–∞**, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç:
- —Å–ø–∏—Å–æ–∫ –∑–∞–ø–∏—Å–µ–π: –∏–º—è ‚Üí –Ω–æ–º–µ—Ä inode –æ–±—ä–µ–∫—Ç–∞ (—Ñ–∞–π–ª–∞/–∫–∞—Ç–∞–ª–æ–≥–∞).

–ù–∞–ø—Ä–∏–º–µ—Ä, –≤ –∫–∞—Ç–∞–ª–æ–≥–µ `/home/user` –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–ø–∏—Å—å:
- `text.txt ‚Üí inode #12345

–ö–∞—Ç–∞–ª–æ–≥ ‚Äî —ç—Ç–æ **—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã**,  
—Ö—Ä–∞–Ω—è—â–∞—è _–∏–º–µ–Ω–∞ –∏ –Ω–æ–º–µ—Ä–∞ inode_, –∏ –æ–Ω–∞ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∞ –≤ –≤–∏–¥–µ —Ñ–∞–π–ª–∞  
—Å —Ç–∏–ø–æ–º `directory`.
–ê –µ—â–µ —Å –∫–∞—Ç–∞–ª–æ–≥–æ–º –º–æ–∂–Ω–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏—Å –≤—ã–∑–æ–≤—ã: readdir,opendir, closedir, –Ω–æ –Ω–µ–ª—å–∑—è —á–µ—Ä–µ–∑ open(), read() –∏ –¥—Ä.

---

## 4. Inode: –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è —Å—É—â–Ω–æ—Å—Ç—å —Ñ–∞–π–ª–∞

**Inode** (–∏–Ω–¥–µ–∫—Å–Ω—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä) ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∞, –æ–ø–∏—Å—ã–≤–∞—é—â–∞—è —Ñ–∞–π–ª **–±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ –∏–º–µ–Ω–∏**.

–í inode —Ö—Ä–∞–Ω–∏—Ç—Å—è:
- —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞ (–æ–±—ã—á–Ω—ã–π —Ñ–∞–π–ª, –∫–∞—Ç–∞–ª–æ–≥, —Å–∏–º–≤–æ–ª—å–Ω–æ–µ/–∂—ë—Å—Ç–∫–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –∏ —Ç.–¥.);
- –≤–ª–∞–¥–µ–ª–µ—Ü (UID), –≥—Ä—É–ø–ø–∞ (GID);
- –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞;
- —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ (–≤ –±–∞–π—Ç–∞—Ö);
- –≤—Ä–µ–º–µ–Ω–∞: –¥–æ—Å—Ç—É–ø–∞ (atime), –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ (mtime), –∏–∑–º–µ–Ω–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (ctime);
- —Å—Å—ã–ª–∫–∏ –Ω–∞ –±–ª–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ –¥–∏—Å–∫–µ;
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂—ë—Å—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ (hard links) –Ω–∞ —ç—Ç–æ—Ç —Ñ–∞–π–ª.

**–í–∞–∂–Ω–æ:** –æ–¥–∏–Ω –∏ —Ç–æ—Ç –∂–µ inode –º–æ–∂–µ—Ç –∏–º–µ—Ç—å **–Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–º—ë–Ω** (–∂—ë—Å—Ç–∫–∏–µ —Å—Å—ã–ª–∫–∏).

---

## 5. –§–∞–π–ª–æ–≤—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã (file descriptor)

–ö–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å —Ö–æ—á–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Ñ–∞–π–ª–æ–º, –æ–Ω:
1. –£–∫–∞–∑—ã–≤–∞–µ—Ç **–∏–º—è —Ñ–∞–π–ª–∞** (–ø—É—Ç—å).
2. –û–° –Ω–∞—Ö–æ–¥–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π **inode**.
3. –û–° —Å–æ–∑–¥–∞—ë—Ç –≤ —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∑–∞–ø–∏—Å—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ** ‚Äî **—Ñ–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä** (FD).

–§–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä ‚Äî —ç—Ç–æ **–º–∞–ª–æ–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ**, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.

–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—ã:
- `0` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥ (stdin);
- `1` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥ (stdout);
- `2` ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ç–æ–∫ –æ—à–∏–±–æ–∫ (stderr).

–ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä `text.txt`, –ø—Ä–æ–≥—Ä–∞–º–º–∞ –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä `3`, `4` –∏ —Ç.–¥.

–í POSIX —É –ø—Ä–æ—Ü–µ—Å—Å–∞ –µ—Å—Ç—å **—Ç–∞–±–ª–∏—Ü–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ (File Descriptor Table)** ‚Äî —ç—Ç–æ –æ–±—ã—á–Ω—ã–π **–º–∞—Å—Å–∏–≤ —É–∫–∞–∑–∞—Ç–µ–ª–µ–π**, –≥–¥–µ –∏–Ω–¥–µ–∫—Å = —Ñ–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä (FD), –∞ –∑–Ω–∞—á–µ–Ω–∏–µ = —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É —è–¥—Ä–∞, –æ–ø–∏—Å—ã–≤–∞—é—â—É—é –æ—Ç–∫—Ä—ã—Ç—ã–π —Ñ–∞–π–ª.
#   –¢–∞–±–ª–∏—Ü–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞ (File Descriptor Table)

–≠—Ç–æ **—á–∞—Å—Ç—å –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞** (user-space data structure), –∫–æ—Ç–æ—Ä—É—é —è–¥—Ä–æ –∑–∞–ø–æ–ª–Ω—è–µ—Ç –ø—Ä–∏ `open()`.
```mermaid
flowchart TB
    subgraph File Descriptor Table
        FD0["0 ‚Üí struct file* ‚Üí stdin"]
        FD1["1 ‚Üí struct file* ‚Üí stdout"]
        FD2["2 ‚Üí struct file* ‚Üí stderr"]
        FD3["3 ‚Üí struct file* ‚Üí text.txt"]
        FD4["4 ‚Üí struct file* ‚Üí /etc/passwd"]
    end

```
- FD = –∏–Ω–¥–µ–∫—Å (0, 1, 2, 3‚Ä¶)
- –ó–Ω–∞—á–µ–Ω–∏–µ = **—É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—É `file` –≤ —è–¥—Ä–µ**.

## 6. –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã POSIX –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Ñ–∞–π–ª–æ–º

–†–∞—Å—Å–º–æ—Ç—Ä–∏–º –∫–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –Ω–∞–±–æ—Ä –≤—ã–∑–æ–≤–æ–≤ POSIX –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ñ–∞–π–ª–∞ `text.txt`.

### 6.1. open()

```c
int fd = open("text.txt", O_RDONLY);
```

- –û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª –ø–æ –∏–º–µ–Ω–∏.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç **—Ñ–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä** (fd) –∏–ª–∏ `-1` –ø—Ä–∏ –æ—à–∏–±–∫–µ.
- –§–ª–∞–≥–∏:
  - `O_RDONLY` ‚Äî —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ;
  - `O_WRONLY` ‚Äî —Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å—å;
  - `O_RDWR` ‚Äî —á—Ç–µ–Ω–∏–µ –∏ –∑–∞–ø–∏—Å—å;
  - `O_CREAT` ‚Äî —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª, –µ—Å–ª–∏ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (–≤–º–µ—Å—Ç–µ —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞);
  - `O_TRUNC` ‚Äî –æ–±–Ω—É–ª–∏—Ç—å —Ñ–∞–π–ª –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–∞ –∑–∞–ø–∏—Å—å –∏ –¥—Ä.

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º `open()` –¥–ª—è `text.txt`:
- –û–° —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞:
  - —É–∫–∞–∑—ã–≤–∞–µ—Ç inode —Ñ–∞–π–ª–∞;
  - —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç **—Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é** (—Å–º–µ—â–µ–Ω–∏–µ) –≤ 0;
  - —Ö—Ä–∞–Ω–∏—Ç —Ä–µ–∂–∏–º –¥–æ—Å—Ç—É–ø–∞ (—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å).

### 6.2. read()

```c
ssize_t n = read(fd, buffer, size);
```

- –ß–∏—Ç–∞–µ—Ç –¥–æ `size` –±–∞–π—Ç –∏–∑ —Ñ–∞–π–ª–∞, —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–º `fd`, –≤ `buffer`.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –±–∞–π—Ç –∏–ª–∏ `0` –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:
- –ß—Ç–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç **–ø–æ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ (offset)**.
- –ü–æ—Å–ª–µ —á—Ç–µ–Ω–∏—è offset **—Å–¥–≤–∏–≥–∞–µ—Ç—Å—è** –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã—Ö –±–∞–π—Ç.
- –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞: —á–∏—Ç–∞–µ–º —Å—Ç—Ä–æ–∫—É, –ø–æ—Ç–æ–º —Å–ª–µ–¥—É—é—â—É—é –∏ —Ç.–¥.

### 6.3. write()

```c
ssize_t n = write(fd, buffer, size);
```

- –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç `size` –±–∞–π—Ç –∏–∑ `buffer` –≤ —Ñ–∞–π–ª, —Å–≤—è–∑–∞–Ω–Ω—ã–π —Å `fd`.
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∞–ª—å–Ω–æ –∑–∞–ø–∏—Å–∞–Ω–Ω—ã—Ö –±–∞–π—Ç.
- –¢–∞–∫ –∂–µ –∏–∑–º–µ–Ω—è–µ—Ç **–ø–æ–∑–∏—Ü–∏—é** –≤ —Ñ–∞–π–ª–µ.

–ï—Å–ª–∏ –æ—Ç–∫—Ä—ã—Ç—å `text.txt` —Å `O_WRONLY` –∏ –≤—ã–∑–≤–∞—Ç—å `write()`, –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–ø–∞–¥—É—Ç –≤ —Ñ–∞–π–ª (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∂–∏–º–∞ ‚Äî –ø–æ–≤–µ—Ä—Ö —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–ª–∏ –≤ –∫–æ–Ω–µ—Ü).

### 6.4. lseek()

```c
off_t pos = lseek(fd, offset, whence);
```

- –ò–∑–º–µ–Ω—è–µ—Ç **—Ç–µ–∫—É—â–µ–µ —Å–º–µ—â–µ–Ω–∏–µ** (–ø–æ–∑–∏—Ü–∏—é) –≤ —Ñ–∞–π–ª–µ.
- `whence`:
  - `SEEK_SET` ‚Äî –æ—Ç –Ω–∞—á–∞–ª–∞ —Ñ–∞–π–ª–∞;
  - `SEEK_CUR` ‚Äî –æ—Ç —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏;
  - `SEEK_END` ‚Äî –æ—Ç –∫–æ–Ω—Ü–∞ —Ñ–∞–π–ª–∞.

–ù–∞–ø—Ä–∏–º–µ—Ä, –º–æ–∂–Ω–æ:
- –ø–µ—Ä–µ—Å–∫–æ—á–∏—Ç—å –∫ —Å–µ—Ä–µ–¥–∏–Ω–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞;
- —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–∑–∏—Ü–∏—é –≤ –∫–æ–Ω–µ—Ü –∏ –¥–æ–∑–∞–ø–∏—Å–∞—Ç—å –¥–∞–Ω–Ω—ã–µ.

### 6.5. close()

```c
close(fd);
```

- –ó–∞–∫—Ä—ã–≤–∞–µ—Ç —Ñ–∞–π–ª:
  - –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º;
  - –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞ —É–¥–∞–ª—è–µ—Ç—Å—è;
  - –µ—Å–ª–∏ –±–æ–ª—å—à–µ –Ω–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∏—Å–ø–æ–ª—å–∑—É—é—â–∏—Ö —ç—Ç–æ—Ç —Ñ–∞–π–ª, –û–° –º–æ–∂–µ—Ç –æ—Å–≤–æ–±–æ–¥–∏—Ç—å —Ä–µ—Å—É—Ä—Å—ã.

---

## 7. –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ñ–∞–π–ª—É (—Ä–∞–∑—Ä–µ—à–µ–Ω–∏—è)

POSIX –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –º–æ–¥–µ–ª—å –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞:
- —É –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞ –µ—Å—Ç—å:
  - **–≤–ª–∞–¥–µ–ª–µ—Ü** (user, UID);
  - **–≥—Ä—É–ø–ø–∞** (group, GID);
  - –ø—Ä–∞–≤–∞ –¥–ª—è:
    - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (u),
    - –≥—Ä—É–ø–ø—ã (g),
    - –æ—Å—Ç–∞–ª—å–Ω—ã—Ö (o).

–ü—Ä–∞–≤–∞:
- `r` ‚Äî read (—á—Ç–µ–Ω–∏–µ);
- `w` ‚Äî write (–∑–∞–ø–∏—Å—å);
- `x` ‚Äî execute (–∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ).

–î–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ `text.txt` –æ–±—ã—á–Ω–æ:
- `-rw-r--r--`
  - –≤–ª–∞–¥–µ–ª–µ—Ü –º–æ–∂–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å;
  - –≥—Ä—É–ø–ø–∞ –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî —Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—Ç—å.

–ü—Ä–∏ –≤—ã–∑–æ–≤–µ `open()` –û–° –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:
- –∫—Ç–æ —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º –ø—Ä–æ—Ü–µ—Å—Å–∞ (UID, GID);
- –∫–∞–∫–∏–µ –ø—Ä–∞–≤–∞ –µ—Å—Ç—å —É —Ñ–∞–π–ª–∞;
- –º–æ–∂–Ω–æ –ª–∏ –æ—Ç–∫—Ä—ã—Ç—å –Ω–∞ —á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å.

---

## 8. –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª–∞: stat()

–°–∏—Å—Ç–µ–º–Ω—ã–π –≤—ã–∑–æ–≤:

```c
struct stat st;
int res = stat("text.txt", &st);
```

–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∏—Ç—å:
- —Ä–µ–∂–∏–º (—Ç–∏–ø —Ñ–∞–π–ª–∞ –∏ –ø—Ä–∞–≤–∞);
- —Ä–∞–∑–º–µ—Ä (st_size) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç –≤ —Ñ–∞–π–ª–µ;
- UID, GID;
- –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂—ë—Å—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫;
- –≤—Ä–µ–º–µ–Ω–∞ atime, mtime, ctime.

–î–ª—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ `text.txt` —ç—Ç–æ:
- —Ä–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö (–Ω–∞–ø—Ä–∏–º–µ—Ä, 1024);
- —Ç–∏–ø: –æ–±—ã—á–Ω—ã–π —Ñ–∞–π–ª;
- –ø—Ä–∞–≤–∞: `rw-r--r--` –∏ —Ç.–¥.

---

## 9. –°–≤—è–∑—å –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏ —Ñ–∞–π–ª–æ–º

–í POSIX –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —É—Ä–æ–≤–Ω–µ–π:

1. **–ò–º—è —Ñ–∞–π–ª–∞** –≤ –∫–∞—Ç–∞–ª–æ–≥–µ ‚Üí inode —Ñ–∞–π–ª–∞.
2. **Inode —Ñ–∞–π–ª–∞** ‚Üí –æ–±—ä–µ–∫—Ç –≤ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ (–¥–∞–Ω–Ω—ã–µ + –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ).
3. **–¢–∞–±–ª–∏—Ü–∞ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ —è–¥—Ä–∞**:
   - —Ö—Ä–∞–Ω–∏—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ñ–∞–π–ª–∞:
     - —É–∫–∞–∑–∞—Ç–µ–ª—å –Ω–∞ inode;
     - —Ç–µ–∫—É—â—É—é –ø–æ–∑–∏—Ü–∏—é (offset);
     - —Ä–µ–∂–∏–º (—á—Ç–µ–Ω–∏–µ/–∑–∞–ø–∏—Å—å);
     - —Ñ–ª–∞–≥–∏.
4. **–¢–∞–±–ª–∏—Ü–∞ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞**:
   - —Å–æ–ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç **—Ü–µ–ª—ã–µ —á–∏—Å–ª–∞** (0, 1, 2, 3, ‚Ä¶) —Å –∑–∞–ø–∏—Å—è–º–∏ –≤ —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤.

–ö–æ–≥–¥–∞ –ø—Ä–æ—Ü–µ—Å—Å —á–∏—Ç–∞–µ—Ç `text.txt`:
- –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **–Ω–æ–º–µ—Ä –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–∞** (–Ω–∞–ø—Ä–∏–º–µ—Ä, 3);
- —è–¥—Ä–æ –ø–æ –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä—É –Ω–∞—Ö–æ–¥–∏—Ç –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤;
- –ø–æ–ª—É—á–∞–µ—Ç inode –∏ –ø–æ–∑–∏—Ü–∏—é;
- —á–∏—Ç–∞–µ—Ç –Ω—É–∂–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

---

## 10. –ü–æ—Ç–æ–∫–∏, –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –∏ ¬´—Ç–µ–∫—Å—Ç–æ–≤—ã–π¬ª —Ö–∞—Ä–∞–∫—Ç–µ—Ä —Ñ–∞–π–ª–∞

–ù–∞ —É—Ä–æ–≤–Ω–µ POSIX —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª ‚Äî —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ **–ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–π—Ç–æ–≤**.  
–ü–æ–Ω—è—Ç–∏–µ ¬´—Å—Ç—Ä–æ–∫–∞¬ª (–∑–∞–∫–∞–Ω—á–∏–≤–∞—é—â–∞—è—Å—è `\n`) ‚Äî —ç—Ç–æ **—É—Å–ª–æ–≤–Ω–æ—Å—Ç—å –Ω–∞ —É—Ä–æ–≤–Ω–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** (–Ω–∞–ø—Ä–∏–º–µ—Ä, `stdio` –≤ C).

–ß–∞—Å—Ç–æ –ø–æ–≤–µ—Ä—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –≤—ã–∑–æ–≤–æ–≤ POSIX –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Ç–æ–∫–∏:
- `fopen()`, `fread()`, `fgets()`, `fprintf()` –∏ –¥—Ä.
- –û–Ω–∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç `open()`, `read()`, `write()`, `close()`, –Ω–æ:
  - –¥–æ–±–∞–≤–ª—è—é—Ç –±—É—Ñ–µ—Ä—ã;
  - —Ä–∞–±–æ—Ç–∞—é—Ç —Å –ø–æ–Ω—è—Ç–∏–µ–º —Å—Ç—Ä–æ–∫;
  - –º–æ–≥—É—Ç –ø–æ-—Ä–∞–∑–Ω–æ–º—É —Ç—Ä–∞–∫—Ç–æ–≤–∞—Ç—å –∫–æ–Ω–µ—Ü —Å—Ç—Ä–æ–∫–∏ (–æ—Å–æ–±–µ–Ω–Ω–æ –≤ —Ä–∞–∑–Ω—ã—Ö –û–°).

---

## 11. –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞: unlink()

```c
unlink("text.txt");
```

–í POSIX `unlink()`:
- —É–¥–∞–ª—è–µ—Ç **–∏–º—è** –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞;
- —É–º–µ–Ω—å—à–∞–µ—Ç —Å—á—ë—Ç—á–∏–∫ –∂—ë—Å—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫ inode;
- –µ—Å–ª–∏ —Å—á—ë—Ç—á–∏–∫ —Å—Ç–∞–ª 0 **–∏** –Ω–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ –Ω–∞ —ç—Ç–æ—Ç —Ñ–∞–π–ª:
  - –¥–∞–Ω–Ω—ã–µ –∏ inode –º–æ–≥—É—Ç –±—ã—Ç—å —Ä–µ–∞–ª—å–Ω–æ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã.

–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:
- –µ—Å–ª–∏ –ø—Ä–æ—Ü–µ—Å—Å –≤—Å—ë –µ—â—ë –¥–µ—Ä–∂–∏—Ç –æ—Ç–∫—Ä—ã—Ç—ã–π —Ñ–∞–π–ª `text.txt` (–µ—Å—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä), –æ–Ω –º–æ–∂–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å —á–∏—Ç–∞—Ç—å/–ø–∏—Å–∞—Ç—å, –¥–∞–∂–µ –µ—Å–ª–∏ –∏–º—è –≤ –∫–∞—Ç–∞–ª–æ–≥–µ —É–∂–µ —É–¥–∞–ª–µ–Ω–æ.

---

## 12. –ñ—ë—Å—Ç–∫–∏–µ –∏ —Å–∏–º–≤–æ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏

POSIX –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–º—ë–Ω –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞.

### 12.1. –ñ—ë—Å—Ç–∫–∞—è —Å—Å—ã–ª–∫–∞ (hard link)

```bash
ln text.txt copy.txt
```

- `text.txt` –∏ `copy.txt` ‚Üí —ç—Ç–æ **–¥–≤–∞ –∏–º–µ–Ω–∏ –æ–¥–Ω–æ–≥–æ –∏ —Ç–æ–≥–æ –∂–µ inode**.
- –£ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞ –±—É–¥–µ—Ç —É–≤–µ–ª–∏—á–µ–Ω —Å—á—ë—Ç—á–∏–∫ —Å—Å—ã–ª–æ–∫.
- –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ –æ–¥–Ω–æ –∏–º—è, –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —á–µ—Ä–µ–∑ –¥—Ä—É–≥–æ–µ.

### 12.2. –°–∏–º–≤–æ–ª—å–Ω–∞—è (symbolic) —Å—Å—ã–ª–∫–∞

```bash
ln -s text.txt link.txt
```

- `link.txt` —Å–æ–¥–µ—Ä–∂–∏—Ç **–ø—É—Ç—å** –∫ –¥—Ä—É–≥–æ–º—É —Ñ–∞–π–ª—É.
- –≠—Ç–æ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –æ—Å–æ–±–æ–≥–æ —Ç–∏–ø–∞ (symlink).
- –ï—Å–ª–∏ —É–¥–∞–ª–∏—Ç—å `text.txt`, —Å–∏–º–≤–æ–ª–∏—á–µ—Å–∫–∞—è —Å—Å—ã–ª–∫–∞ –º–æ–∂–µ—Ç —Å—Ç–∞—Ç—å ¬´—Å–ª–æ–º–ª–µ–Ω–Ω–æ–π¬ª.

---

## 13. –û—à–∏–±–∫–∏ –∏ errno

–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏ POSIX (open, read, write –∏ –¥—Ä.) –≤–æ–∑–º–æ–∂–Ω—ã –æ—à–∏–±–∫–∏:
- –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—ã—á–Ω–æ `-1`;
- –≥–ª–æ–±–∞–ª—å–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è `errno` —Ö—Ä–∞–Ω–∏—Ç –∫–æ–¥ –æ—à–∏–±–∫–∏.

–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Ñ–∞–π–ª–æ–º:
- `ENOENT` ‚Äî —Ñ–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç (`open("text.txt", ...)`);
- `EACCES` ‚Äî –Ω–µ—Ç –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞;
- `EBADF` ‚Äî –Ω–µ–≤–µ—Ä–Ω—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `read()` –ø–æ—Å–ª–µ `close()`).

---

## 14. –ö—Ä–∞—Ç–∫–∏–π –∏—Ç–æ–≥ (–∫–æ–Ω—Å–ø–µ–∫—Ç –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è)

1. **POSIX** ‚Äî —Å—Ç–∞–Ω–¥–∞—Ä—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –û–°, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã –∏ –ø–æ–≤–µ–¥–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å —Ñ–∞–π–ª–∞–º–∏, –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏ –∏ —Ç.–¥.
2. **–§–∞–π–ª –≤ POSIX**:
   - —Ä–∞–∑–¥–µ–ª—è—é—Ç—Å—è –∏–º—è (–ø—É—Ç—å) –∏ –æ–±—ä–µ–∫—Ç (inode);
   - —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª ‚Äî –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –±–∞–π—Ç–æ–≤, –æ–±—ã—á–Ω–æ –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ–º—ã—Ö –∫–∞–∫ —Å–∏–º–≤–æ–ª—ã.
3. **–ö–∞—Ç–∞–ª–æ–≥** ‚Äî –æ—Å–æ–±—ã–π —Ñ–∞–π–ª, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ ¬´–∏–º—è ‚Üí inode¬ª.
4. **Inode** —Ö—Ä–∞–Ω–∏—Ç:
   - —Ç–∏–ø —Ñ–∞–π–ª–∞, –ø—Ä–∞–≤–∞, –≤–ª–∞–¥–µ–ª—å—Ü–∞;
   - —Ä–∞–∑–º–µ—Ä—ã, –≤—Ä–µ–º–µ–Ω–∞;
   - —Å—Å—ã–ª–∫–∏ –Ω–∞ –±–ª–æ–∫–∏ –¥–∞–Ω–Ω—ã—Ö;
   - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∂—ë—Å—Ç–∫–∏—Ö —Å—Å—ã–ª–æ–∫.
5. **–§–∞–π–ª–æ–≤—ã–π –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä** ‚Äî —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ —Ñ–∞–π–ª–∞ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.
6. –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ –≤—ã–∑–æ–≤—ã POSIX –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ç–µ–∫—Å—Ç–æ–≤—ã–º —Ñ–∞–π–ª–æ–º:
   - `open()` ‚Äî –æ—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª (–ø–æ–ª—É—á–∏—Ç—å –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä);
   - `read()` ‚Äî —á–∏—Ç–∞—Ç—å –¥–∞–Ω–Ω—ã–µ;
   - `write()` ‚Äî –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ;
   - `lseek()` ‚Äî –º–µ–Ω—è—Ç—å –ø–æ–∑–∏—Ü–∏—é –≤ —Ñ–∞–π–ª–µ;
   - `close()` ‚Äî –∑–∞–∫—Ä—ã—Ç—å —Ñ–∞–π–ª;
   - `stat()` ‚Äî –ø–æ–ª—É—á–∏—Ç—å –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ;
   - `unlink()` ‚Äî —É–¥–∞–ª–∏—Ç—å –∏–º—è —Ñ–∞–π–ª–∞.
7. **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: —Ç—Ä–∏ –Ω–∞–±–æ—Ä–∞ (user, group, others) –∏ —Ç—Ä–∏ –±–∏—Ç–∞ (r, w, x).
8. –°–≤—è–∑—å –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–æ–º –∏ —Ñ–∞–π–ª–æ–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —á–µ—Ä–µ–∑:
   - —Ç–∞–±–ª–∏—Ü—É –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤ –ø—Ä–æ—Ü–µ—Å—Å–∞ –∏ —Ç–∞–±–ª–∏—Ü—É –æ—Ç–∫—Ä—ã—Ç—ã—Ö —Ñ–∞–π–ª–æ–≤ –≤ —è–¥—Ä–µ.
9. –£–¥–∞–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ –≤ POSIX:
   - —Å–Ω–∞—á–∞–ª–∞ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–º—è (unlink);
   - –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª—è—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω–µ—Ç –∏–º—ë–Ω –∏ –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä–æ–≤.
10. –ñ—ë—Å—Ç–∫–∏–µ –∏ —Å–∏–º–≤–æ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ –ø–æ–∑–≤–æ–ª—è—é—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –∏–º—ë–Ω –¥–ª—è —Ñ–∞–π–ª–∞ –∏–ª–∏ —Å—Å—ã–ª–∞—Ç—å—Å—è –ø–æ –ø—É—Ç–∏.

–≠—Ç–æ—Ç –∫–æ–Ω—Å–ø–µ–∫—Ç –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –≥–æ—Ç–æ–≤—ã–π –æ—Ç–≤–µ—Ç –Ω–∞ —ç–∫–∑–∞–º–µ–Ω–∞—Ü–∏–æ–Ω–Ω—ã–π –±–∏–ª–µ—Ç –ø–æ —Ç–µ–º–µ  
**¬´POSIX: –ø–æ–Ω—è—Ç–∏—è –Ω–∞ –ø—Ä–∏–º–µ—Ä–µ —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ñ–∞–π–ª–∞¬ª**.


–û—Ç –î–∞–Ω–∏–ª—ã:
–ß—Ç–æ —Å–ø—Ä–æ—Å–∏–ª –°–º–∏—Ä–Ω–æ–≤: –Ω–∞ –∫–∞–∫–∏–µ –¥–≤–µ –≥–ª–∞–≤–Ω—ã–µ –≥—Ä—É–ø–ø—ã –º–æ–∂–Ω–æ —Ä–∞–∑–¥–µ–ª–∏—Ç—å —Ç–æ —á—Ç–æ –æ–ø–∏—Å–∞–Ω–æ POSIX`–æ–º? 
–Ø –æ—Ç–≤–µ—Ç–∏–ª —Å—Ä–µ–¥—É —Å–±–æ—Ä–∫–∏ –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏—è –ø–æ—Å–ª–µ —á–µ–≥–æ –æ–Ω –ø–æ—Å—Ç–∞–≤–∏–ª D –∏ —Å–∫–∞–∑–∞–ª - SHELL –∏ POSIX LIB C
